#### 1. 프로젝트 생성

> npx create-next-app --ts ssg-export



### 2. 라우팅

- Link 컴포넌트
  - a 태그를 감싸는 형태로 사용
  - a 태그의 href 속성을 Link 컴포넌트가 갖는다.

```tsx
import Link from 'next/link';

...
<Link>
   
</Link>
...
```



### 3. 전체 설정

- _app.tsx
- 공통으로 들어가는 컴포넌트를 몰아 넣는 곳
- 예) Head 컴포넌트 등

```tsx
import Head from "next/head";
import "../styles/globals.css";
import type { AppProps } from "next/app";

function MyApp({ Component, pageProps }: AppProps) {
  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
          crossOrigin="anonymous"
        />
        <link
          href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
          rel="stylesheet"
        />
      </Head>
      <Component {...pageProps} />
    </>
  );
}
export default MyApp;
```

- 페이지 라우팅이 일어나면 `<Component {...pageProps} />` 이 부분이 `pages` 아래에서 만들어진 컴포넌트가 갈아끼워진다.



#### 참고) Javascript 원화 표시

```typescript
const formatter = Intl.NumberFormat("ko-KR");

formatter.format(3000) // 3,000
```



#### 참고) useMemo (useState + useEffect ?)

```tsx
let sum = useMemo(() => {
    let value = 0;
    value += hasEspresso ? 2800 : 0;
    value += hasAmericano ? 3000 : 0;
    value += hasLatte ? 3400 : 0;

    return value;
}, [hasAmericano, hasEspresso, hasLatte]);
```



#### 참고) form이 필요할 땐 form을 사용하고 submit 시 발생하는 form 기본 동작 방지는 e.preventDefault() 으로 하자.

```tsx
const handleSubmit = (e) => {
    e.preventDefault();
};
...

	<form onSubmit={handleSubmit}>
...
```



### 4. 페이지 마다 Title 변경

- 현재 공통으로 사용하는 코드인 css CDN 등을 `_app.tsx` 위치시킴
- 그 과정에서 Head 태그 안의 title까지 적용되어 모든 페이지에서 동일한 title이 보여짐
- `_app.tsx` 파일에서 `Head > title` 을 두었더라도 각 페이지에 `Head > title` 덮어씌우면 각 페이지의 title이 우선하여 보여짐

```tsx
// _app.tsx

<Head>
	<title>Caffe : 온라인 커피 주문</title>
    ...
<Head>
```

```tsx
// index.tsx

<Head>
    <title>메인 - Caffe : 온라인 커피 주문</title>
</Head>
```



### 5. 배포

#### 5.1. Vercel, Heroku

- github 만 연결하면 바로 배포가 된다.
- 코드를 수정한 후 github 에 push 하면 자동으로 수정된 코드가 배포된다.

- limit 있음



#### 5.2. github pages(정적 애플리케이션)

- `next export` 해서 out 디렉터리만 따로 저장소 만들어서 업로드
- 커스텀 도메인을 설정하지 않으면 index 페이지만 서비스 되고 다른 페이지들 라우팅이 안된다.
- limit 있음



#### 5.3. Firebase 호스팅(정적 애플리케이션)

- `next export` 해서 out 디렉터리에서 CLI를 이용해서 배포
- limit 있음



